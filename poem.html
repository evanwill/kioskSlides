<!DOCTYPE html>
<html oncontextmenu='return false;'>
<head>
	<!-- slide template that emulates the live Vandal Poem of the Day website, http://poetry.lib.uidaho.edu/ offline. It is set to print the poem if the mouse is clicked. The poems are not included here for copyright reasons.  -->
	
	<meta charset="UTF-8">
	<meta name='viewport' content='width=device-width, initial-scale=1.0'>
		<title>Vandal Poem of the Day</title>

		<link rel="stylesheet" type="text/css" href="styles/fonts.css" >
		<!-- had issues with media queries in CSS not printing correctly. It works correctly with two seporate css files and a media query here -->
		<link rel="stylesheet" type="text/css" href="styles/poemStyle.css" >
		<link rel="stylesheet" type="text/css" media="print" href="styles/print.css" >
		<!-- added a font-awesome printer icon, not included in this respository:
		<link rel="stylesheet" href="styles/font-awesome-4.5.0/css/font-awesome.min.css"> 
		-->
		<script src="js/advance.js"></script>		
		<!-- activeWait() resets advance timer if mouse is moved to allow visitors to read the poem display -->
		<script>
			activeWait();
		</script>
		
		<style>
			.allPoems { display: none; }
		</style>

</head>

<body onclick="window.print()">

	<div class="noprint" id="qrCode">
		<img src="images/vbotClickPrint.png" class="noprint" style="width:300px;">
		<!-- font-awesome printer icon: <div id="printIcon"><i class="fa fa-print"></i></div> -->
	</div>

	<div class="noprint" id="header">
		<img src="images/vpodLogo.png">

		<!-- place to add the date -->
		<p id="date1"></p>

	</div>

	<div id="box">
		<div id="poem">

			<!-- all the poetry content goes in here, each poem in a div of class "allPoems" with ID of its assigned date.  All are display: none; except for the current day, revealed by js below -->

			<div class="allPoems" id="2016-3-29">

			<h2 id="title">Title</h2>
			<p class="line"><em>by <a href="authorProfile">author</a></em></p>
			<p></p>
			<p></p>
			<p class="line">lines</p>
			<p class="line bookinfo">from <em><a target="_blank" href="">Book Title </a></em></p><p class="citation">Copyright<br/>Used with the permission of The Permissions Company, Inc.<br/>on behalf of <a href="">Publisher</a>.</p>

			</div>
			
			<div class="allPoems" id="2016-3-30">

			<h2 id="title">Title 2</h2>
			<p class="line"><em>by <a href="authorProfile">author 2</a></em></p>
			<p></p>
			<p></p>
			<p class="line">more lines</p>
			<p class="line bookinfo">from <em><a target="_blank" href="">Book Title </a></em></p><p class="citation">Copyright<br/>Used with the permission of The Permissions Company, Inc.<br/>on behalf of <a href="">Publisher</a>.</p>

			</div>

			<!-- footer for printed poem -->
			<div id="printQR">
			<p>poetry.lib.uidaho.edu</p>
			<img src="images/printerQRbk.png" width="50%">
			</div>

		</div>
	</div>

	<script>

		/* add date to the page header */
		var currentTime = new Date();
		var displayDay = currentTime.toLocaleString("en-us", { month: "long" }) + " " + currentTime.getDate() + ", " + currentTime.getFullYear();
		document.getElementById("date1").innerHTML = displayDay;

		/* make the poem of the day visible, or if there is no current poem, choose a random one. 
		get the date, put it in the format matching the div ID yyyy-m-d */
		var today = currentTime.getFullYear() + "-" + (currentTime.getMonth() + 1)  + "-" + currentTime.getDate();
		var poem = document.getElementById(today);
		/* if a poem doesnt exist for the day, select a random one, else, show todays poem */
		if (!poem){
			var poemsList = document.getElementsByClassName("allPoems");
			var random = Math.floor(Math.random()*poemsList.length);
			poemsList[random].style.display="block";
		}
		else { 
			poem.style.display="block"; 
		}
		
	</script>

</body>
</html>
